{
'id': 'bugs.core_4199',
'qmid': None,
'tracker_id': 'CORE-4199',
'title': 'Add optional START WITH clause to identity columns',
'description':
  """
    We create table with identity column and use 'START WITH' clause for it.
    Then we add three rows in this table and calculate difference betwee max and min
    values of this identity column. In must be equal 2.

    ::: NB :::
    Behaviour of FB 4.x was changed since 06-aug-2020 when core-6084 was fixed:
    now FB 4.x will assign to ID column values which less than FB 3.x for 1.
    For this reason it was changed avoid check for concrete values.
    Rather, it is enough to verify only difference between max and min ID.

    Checked on 4.0.0.2164, 3.0.7.33356.
  """,
'min_versions': '3.0',
'versions': [
{
 'firebird_version': '3.0',
 'platform': 'All',
 'init_script': 
  """
  """,
 'test_type': 'ISQL',
 'test_script': 
  """
    recreate table test(id int generated by default as identity (start with 1000) );
    commit;
    insert into test default values;
    insert into test default values;
    insert into test default values;
    set heading off;
    select max(id)-min(id) from test;
  """,
 'expected_stdout': 
  """
    2
  """
}
]
}
