{
'id': 'bugs.core_5133',
'qmid': None,
'tracker_id': 'CORE-5133',
'title': 'ALTER SEQUENCE RESTART WITH does not change the initial value',
'description': '',
'min_versions': '3.0',
'versions': [
{
 'firebird_version': '3.0',
 'platform': 'All',
 'test_type': 'ISQL',
 'test_script': 
  """
    -- Confirmed:
    -- initial value did not change on WI-V3.0.0.32376, ok since 32378.

    create or alter view v_gen as select 1 id from rdb$database;
    commit;

    recreate sequence s1 start with 100 increment 2;
    create or alter view v_gen as
    select 
        trim(rdb$generator_name) gen_name
        ,gen_id(s1, 0) as generator_current_value
        ,rdb$initial_value gen_init
        ,rdb$generator_increment gen_incr
    from rdb$generators 
    where rdb$system_flag<>1;
    commit;


    set list on;
    select * from v_gen;

    alter sequence s1 restart with -1 increment -3;
    commit;

    select * from v_gen;
  """,
 'expected_stdout': 
  """
    GEN_NAME                        S1
    GENERATOR_CURRENT_VALUE         100
    GEN_INIT                        100
    GEN_INCR                        2

    GEN_NAME                        S1
    GENERATOR_CURRENT_VALUE         -1
    GEN_INIT                        -1
    GEN_INCR                        -3
  """,
 'expected_stderr': 
  """
  """
}
]
}
